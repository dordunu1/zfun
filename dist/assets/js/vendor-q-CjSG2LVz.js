import{y as pt,z as Pt}from"./vendor-s-BqG1wrSf.js";import{R as Rt,O as Lt}from"./vendor-d-MD9PtDQc.js";import{f as Ft}from"./vendor-f-CRLubUDi.js";import{c as Ut}from"./vendor-e-D_NVhuKL.js";var Y={},Dt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},gt={},I={};let it;const kt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];I.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};I.getSymbolTotalCodewords=function(e){return kt[e]};I.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};I.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');it=e};I.isKanjiModeEnabled=function(){return typeof it<"u"};I.toSJIS=function(e){return it(e)};var _={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+i)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,n){if(t.isValid(r))return r;try{return e(r)}catch{return n}}})(_);function ht(){this.buffer=[],this.length=0}ht.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let i=0;i<e;i++)this.putBit((t>>>e-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ot=ht;function V(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}V.prototype.set=function(t,e,i,r){const n=t*this.size+e;this.data[n]=i,r&&(this.reservedBit[n]=!0)};V.prototype.get=function(t,e){return this.data[t*this.size+e]};V.prototype.xor=function(t,e,i){this.data[t*this.size+e]^=i};V.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var zt=V,mt={};(function(t){const e=I.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const n=Math.floor(r/7)+2,o=e(r),a=o===145?26:Math.ceil((o-13)/(2*n-2))*2,u=[o-7];for(let c=1;c<n-1;c++)u[c]=u[c-1]-a;return u.push(6),u.reverse()},t.getPositions=function(r){const n=[],o=t.getRowColCoords(r),a=o.length;for(let u=0;u<a;u++)for(let c=0;c<a;c++)u===0&&c===0||u===0&&c===a-1||u===a-1&&c===0||n.push([o[u],o[c]]);return n}})(mt);var wt={};const jt=I.getSymbolSize,ft=7;wt.getPositions=function(e){const i=jt(e);return[[0,0],[i-ft,0],[0,i-ft]]};var yt={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},t.from=function(n){return t.isValid(n)?parseInt(n,10):void 0},t.getPenaltyN1=function(n){const o=n.size;let a=0,u=0,c=0,g=null,m=null;for(let E=0;E<o;E++){u=c=0,g=m=null;for(let B=0;B<o;B++){let h=n.get(E,B);h===g?u++:(u>=5&&(a+=e.N1+(u-5)),g=h,u=1),h=n.get(B,E),h===m?c++:(c>=5&&(a+=e.N1+(c-5)),m=h,c=1)}u>=5&&(a+=e.N1+(u-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(n){const o=n.size;let a=0;for(let u=0;u<o-1;u++)for(let c=0;c<o-1;c++){const g=n.get(u,c)+n.get(u,c+1)+n.get(u+1,c)+n.get(u+1,c+1);(g===4||g===0)&&a++}return a*e.N2},t.getPenaltyN3=function(n){const o=n.size;let a=0,u=0,c=0;for(let g=0;g<o;g++){u=c=0;for(let m=0;m<o;m++)u=u<<1&2047|n.get(g,m),m>=10&&(u===1488||u===93)&&a++,c=c<<1&2047|n.get(m,g),m>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(n){let o=0;const a=n.data.length;for(let c=0;c<a;c++)o+=n.data[c];return Math.abs(Math.ceil(o*100/a/5)-10)*e.N4};function i(r,n,o){switch(r){case t.Patterns.PATTERN000:return(n+o)%2===0;case t.Patterns.PATTERN001:return n%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(n+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return n*o%2+n*o%3===0;case t.Patterns.PATTERN110:return(n*o%2+n*o%3)%2===0;case t.Patterns.PATTERN111:return(n*o%3+(n+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(n,o){const a=o.size;for(let u=0;u<a;u++)for(let c=0;c<a;c++)o.isReserved(c,u)||o.xor(c,u,i(n,c,u))},t.getBestMask=function(n,o){const a=Object.keys(t.Patterns).length;let u=0,c=1/0;for(let g=0;g<a;g++){o(g),t.applyMask(g,n);const m=t.getPenaltyN1(n)+t.getPenaltyN2(n)+t.getPenaltyN3(n)+t.getPenaltyN4(n);t.applyMask(g,n),m<c&&(c=m,u=g)}return u}})(yt);var G={};const R=_,$=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],H=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];G.getBlocksCount=function(e,i){switch(i){case R.L:return $[(e-1)*4+0];case R.M:return $[(e-1)*4+1];case R.Q:return $[(e-1)*4+2];case R.H:return $[(e-1)*4+3];default:return}};G.getTotalCodewordsCount=function(e,i){switch(i){case R.L:return H[(e-1)*4+0];case R.M:return H[(e-1)*4+1];case R.Q:return H[(e-1)*4+2];case R.H:return H[(e-1)*4+3];default:return}};var Et={},q={};const z=new Uint8Array(512),K=new Uint8Array(256);(function(){let e=1;for(let i=0;i<255;i++)z[i]=e,K[e]=i,e<<=1,e&256&&(e^=285);for(let i=255;i<512;i++)z[i]=z[i-255]})();q.log=function(e){if(e<1)throw new Error("log("+e+")");return K[e]};q.exp=function(e){return z[e]};q.mul=function(e,i){return e===0||i===0?0:z[K[e]+K[i]]};(function(t){const e=q;t.mul=function(r,n){const o=new Uint8Array(r.length+n.length-1);for(let a=0;a<r.length;a++)for(let u=0;u<n.length;u++)o[a+u]^=e.mul(r[a],n[u]);return o},t.mod=function(r,n){let o=new Uint8Array(r);for(;o.length-n.length>=0;){const a=o[0];for(let c=0;c<n.length;c++)o[c]^=e.mul(n[c],a);let u=0;for(;u<o.length&&o[u]===0;)u++;o=o.slice(u)}return o},t.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let o=0;o<r;o++)n=t.mul(n,new Uint8Array([1,e.exp(o)]));return n}})(Et);const Ct=Et;function st(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}st.prototype.initialize=function(e){this.degree=e,this.genPoly=Ct.generateECPolynomial(this.degree)};st.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(e.length+this.degree);i.set(e);const r=Ct.mod(i,this.genPoly),n=this.degree-r.length;if(n>0){const o=new Uint8Array(this.degree);return o.set(r,n),o}return r};var Vt=st,Bt={},L={},at={};at.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var p={};const bt="[0-9]+",$t="[A-Z $%*+\\-./:]+";let j="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";j=j.replace(/u/g,"\\u");const Ht="(?:(?![A-Z0-9 $%*+\\-./:]|"+j+`)(?:.|[\r
]))+`;p.KANJI=new RegExp(j,"g");p.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");p.BYTE=new RegExp(Ht,"g");p.NUMERIC=new RegExp(bt,"g");p.ALPHANUMERIC=new RegExp($t,"g");const Kt=new RegExp("^"+j+"$"),Jt=new RegExp("^"+bt+"$"),Yt=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");p.testKanji=function(e){return Kt.test(e)};p.testNumeric=function(e){return Jt.test(e)};p.testAlphanumeric=function(e){return Yt.test(e)};(function(t){const e=at,i=p;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,a){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?o.ccBits[0]:a<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return i.testNumeric(o)?t.NUMERIC:i.testAlphanumeric(o)?t.ALPHANUMERIC:i.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+n)}}t.from=function(o,a){if(t.isValid(o))return o;try{return r(o)}catch{return a}}})(L);(function(t){const e=I,i=G,r=_,n=L,o=at,a=7973,u=e.getBCHDigit(a);function c(B,h,b){for(let A=1;A<=40;A++)if(h<=t.getCapacity(A,b,B))return A}function g(B,h){return n.getCharCountIndicator(B,h)+4}function m(B,h){let b=0;return B.forEach(function(A){const S=g(A.mode,h);b+=S+A.getBitsLength()}),b}function E(B,h){for(let b=1;b<=40;b++)if(m(B,b)<=t.getCapacity(b,h,n.MIXED))return b}t.from=function(h,b){return o.isValid(h)?parseInt(h,10):b},t.getCapacity=function(h,b,A){if(!o.isValid(h))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=n.BYTE);const S=e.getSymbolTotalCodewords(h),s=i.getTotalCodewordsCount(h,b),f=(S-s)*8;if(A===n.MIXED)return f;const d=f-g(A,h);switch(A){case n.NUMERIC:return Math.floor(d/10*3);case n.ALPHANUMERIC:return Math.floor(d/11*2);case n.KANJI:return Math.floor(d/13);case n.BYTE:default:return Math.floor(d/8)}},t.getBestVersionForData=function(h,b){let A;const S=r.from(b,r.M);if(Array.isArray(h)){if(h.length>1)return E(h,S);if(h.length===0)return 1;A=h[0]}else A=h;return c(A.mode,A.getLength(),S)},t.getEncodedBits=function(h){if(!o.isValid(h)||h<7)throw new Error("Invalid QR Code version");let b=h<<12;for(;e.getBCHDigit(b)-u>=0;)b^=a<<e.getBCHDigit(b)-u;return h<<12|b}})(Bt);var At={};const et=I,Nt=1335,_t=21522,lt=et.getBCHDigit(Nt);At.getEncodedBits=function(e,i){const r=e.bit<<3|i;let n=r<<10;for(;et.getBCHDigit(n)-lt>=0;)n^=Nt<<et.getBCHDigit(n)-lt;return(r<<10|n)^_t};var St={};const Gt=L;function F(t){this.mode=Gt.NUMERIC,this.data=t.toString()}F.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};F.prototype.getLength=function(){return this.data.length};F.prototype.getBitsLength=function(){return F.getBitsLength(this.data.length)};F.prototype.write=function(e){let i,r,n;for(i=0;i+3<=this.data.length;i+=3)r=this.data.substr(i,3),n=parseInt(r,10),e.put(n,10);const o=this.data.length-i;o>0&&(r=this.data.substr(i),n=parseInt(r,10),e.put(n,o*3+1))};var qt=F;const Qt=L,Z=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function U(t){this.mode=Qt.ALPHANUMERIC,this.data=t}U.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};U.prototype.getLength=function(){return this.data.length};U.prototype.getBitsLength=function(){return U.getBitsLength(this.data.length)};U.prototype.write=function(e){let i;for(i=0;i+2<=this.data.length;i+=2){let r=Z.indexOf(this.data[i])*45;r+=Z.indexOf(this.data[i+1]),e.put(r,11)}this.data.length%2&&e.put(Z.indexOf(this.data[i]),6)};var Wt=U;const Zt=Ut,Xt=L;function D(t){this.mode=Xt.BYTE,typeof t=="string"&&(t=Zt(t)),this.data=new Uint8Array(t)}D.getBitsLength=function(e){return e*8};D.prototype.getLength=function(){return this.data.length};D.prototype.getBitsLength=function(){return D.getBitsLength(this.data.length)};D.prototype.write=function(t){for(let e=0,i=this.data.length;e<i;e++)t.put(this.data[e],8)};var vt=D;const xt=L,te=I;function k(t){this.mode=xt.KANJI,this.data=t}k.getBitsLength=function(e){return e*13};k.prototype.getLength=function(){return this.data.length};k.prototype.getBitsLength=function(){return k.getBitsLength(this.data.length)};k.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let i=te.toSJIS(this.data[e]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),t.put(i,13)}};var ee=k;(function(t){const e=L,i=qt,r=Wt,n=vt,o=ee,a=p,u=I,c=Rt;function g(s){return unescape(encodeURIComponent(s)).length}function m(s,f,d){const l=[];let w;for(;(w=s.exec(d))!==null;)l.push({data:w[0],index:w.index,mode:f,length:w[0].length});return l}function E(s){const f=m(a.NUMERIC,e.NUMERIC,s),d=m(a.ALPHANUMERIC,e.ALPHANUMERIC,s);let l,w;return u.isKanjiModeEnabled()?(l=m(a.BYTE,e.BYTE,s),w=m(a.KANJI,e.KANJI,s)):(l=m(a.BYTE_KANJI,e.BYTE,s),w=[]),f.concat(d,l,w).sort(function(y,N){return y.index-N.index}).map(function(y){return{data:y.data,mode:y.mode,length:y.length}})}function B(s,f){switch(f){case e.NUMERIC:return i.getBitsLength(s);case e.ALPHANUMERIC:return r.getBitsLength(s);case e.KANJI:return o.getBitsLength(s);case e.BYTE:return n.getBitsLength(s)}}function h(s){return s.reduce(function(f,d){const l=f.length-1>=0?f[f.length-1]:null;return l&&l.mode===d.mode?(f[f.length-1].data+=d.data,f):(f.push(d),f)},[])}function b(s){const f=[];for(let d=0;d<s.length;d++){const l=s[d];switch(l.mode){case e.NUMERIC:f.push([l,{data:l.data,mode:e.ALPHANUMERIC,length:l.length},{data:l.data,mode:e.BYTE,length:l.length}]);break;case e.ALPHANUMERIC:f.push([l,{data:l.data,mode:e.BYTE,length:l.length}]);break;case e.KANJI:f.push([l,{data:l.data,mode:e.BYTE,length:g(l.data)}]);break;case e.BYTE:f.push([{data:l.data,mode:e.BYTE,length:g(l.data)}])}}return f}function A(s,f){const d={},l={start:{}};let w=["start"];for(let C=0;C<s.length;C++){const y=s[C],N=[];for(let T=0;T<y.length;T++){const M=y[T],O=""+C+T;N.push(O),d[O]={node:M,lastCount:0},l[O]={};for(let W=0;W<w.length;W++){const P=w[W];d[P]&&d[P].node.mode===M.mode?(l[P][O]=B(d[P].lastCount+M.length,M.mode)-B(d[P].lastCount,M.mode),d[P].lastCount+=M.length):(d[P]&&(d[P].lastCount=M.length),l[P][O]=B(M.length,M.mode)+4+e.getCharCountIndicator(M.mode,f))}}w=N}for(let C=0;C<w.length;C++)l[w[C]].end=0;return{map:l,table:d}}function S(s,f){let d;const l=e.getBestModeForData(s);if(d=e.from(f,l),d!==e.BYTE&&d.bit<l.bit)throw new Error('"'+s+'" cannot be encoded with mode '+e.toString(d)+`.
 Suggested mode is: `+e.toString(l));switch(d===e.KANJI&&!u.isKanjiModeEnabled()&&(d=e.BYTE),d){case e.NUMERIC:return new i(s);case e.ALPHANUMERIC:return new r(s);case e.KANJI:return new o(s);case e.BYTE:return new n(s)}}t.fromArray=function(f){return f.reduce(function(d,l){return typeof l=="string"?d.push(S(l,null)):l.data&&d.push(S(l.data,l.mode)),d},[])},t.fromString=function(f,d){const l=E(f,u.isKanjiModeEnabled()),w=b(l),C=A(w,d),y=c.find_path(C.map,"start","end"),N=[];for(let T=1;T<y.length-1;T++)N.push(C.table[y[T]].node);return t.fromArray(h(N))},t.rawSplit=function(f){return t.fromArray(E(f,u.isKanjiModeEnabled()))}})(St);const Q=I,X=_,ne=Ot,re=zt,oe=mt,ie=wt,nt=yt,rt=G,se=Vt,J=Bt,ae=At,ce=L,v=St;function ue(t,e){const i=t.size,r=ie.getPositions(e);for(let n=0;n<r.length;n++){const o=r[n][0],a=r[n][1];for(let u=-1;u<=7;u++)if(!(o+u<=-1||i<=o+u))for(let c=-1;c<=7;c++)a+c<=-1||i<=a+c||(u>=0&&u<=6&&(c===0||c===6)||c>=0&&c<=6&&(u===0||u===6)||u>=2&&u<=4&&c>=2&&c<=4?t.set(o+u,a+c,!0,!0):t.set(o+u,a+c,!1,!0))}}function fe(t){const e=t.size;for(let i=8;i<e-8;i++){const r=i%2===0;t.set(i,6,r,!0),t.set(6,i,r,!0)}}function le(t,e){const i=oe.getPositions(e);for(let r=0;r<i.length;r++){const n=i[r][0],o=i[r][1];for(let a=-2;a<=2;a++)for(let u=-2;u<=2;u++)a===-2||a===2||u===-2||u===2||a===0&&u===0?t.set(n+a,o+u,!0,!0):t.set(n+a,o+u,!1,!0)}}function de(t,e){const i=t.size,r=J.getEncodedBits(e);let n,o,a;for(let u=0;u<18;u++)n=Math.floor(u/3),o=u%3+i-8-3,a=(r>>u&1)===1,t.set(n,o,a,!0),t.set(o,n,a,!0)}function x(t,e,i){const r=t.size,n=ae.getEncodedBits(e,i);let o,a;for(o=0;o<15;o++)a=(n>>o&1)===1,o<6?t.set(o,8,a,!0):o<8?t.set(o+1,8,a,!0):t.set(r-15+o,8,a,!0),o<8?t.set(8,r-o-1,a,!0):o<9?t.set(8,15-o-1+1,a,!0):t.set(8,15-o-1,a,!0);t.set(r-8,8,1,!0)}function ge(t,e){const i=t.size;let r=-1,n=i-1,o=7,a=0;for(let u=i-1;u>0;u-=2)for(u===6&&u--;;){for(let c=0;c<2;c++)if(!t.isReserved(n,u-c)){let g=!1;a<e.length&&(g=(e[a]>>>o&1)===1),t.set(n,u-c,g),o--,o===-1&&(a++,o=7)}if(n+=r,n<0||i<=n){n-=r,r=-r;break}}}function he(t,e,i){const r=new ne;i.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),ce.getCharCountIndicator(c.mode,t)),c.write(r)});const n=Q.getSymbolTotalCodewords(t),o=rt.getTotalCodewordsCount(t,e),a=(n-o)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const u=(a-r.getLengthInBits())/8;for(let c=0;c<u;c++)r.put(c%2?17:236,8);return me(r,t,e)}function me(t,e,i){const r=Q.getSymbolTotalCodewords(e),n=rt.getTotalCodewordsCount(e,i),o=r-n,a=rt.getBlocksCount(e,i),u=r%a,c=a-u,g=Math.floor(r/a),m=Math.floor(o/a),E=m+1,B=g-m,h=new se(B);let b=0;const A=new Array(a),S=new Array(a);let s=0;const f=new Uint8Array(t.buffer);for(let y=0;y<a;y++){const N=y<c?m:E;A[y]=f.slice(b,b+N),S[y]=h.encode(A[y]),b+=N,s=Math.max(s,N)}const d=new Uint8Array(r);let l=0,w,C;for(w=0;w<s;w++)for(C=0;C<a;C++)w<A[C].length&&(d[l++]=A[C][w]);for(w=0;w<B;w++)for(C=0;C<a;C++)d[l++]=S[C][w];return d}function we(t,e,i,r){let n;if(Array.isArray(t))n=v.fromArray(t);else if(typeof t=="string"){let g=e;if(!g){const m=v.rawSplit(t);g=J.getBestVersionForData(m,i)}n=v.fromString(t,g||40)}else throw new Error("Invalid data");const o=J.getBestVersionForData(n,i);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const a=he(e,i,n),u=Q.getSymbolSize(e),c=new re(u);return ue(c,e),fe(c),le(c,e),x(c,i,0),e>=7&&de(c,e),ge(c,a),isNaN(r)&&(r=nt.getBestMask(c,x.bind(null,c,i))),nt.applyMask(r,c),x(c,i,r),{modules:c,version:e,errorCorrectionLevel:i,maskPattern:r,segments:n}}gt.create=function(e,i){if(typeof e>"u"||e==="")throw new Error("No input text");let r=X.M,n,o;return typeof i<"u"&&(r=X.from(i.errorCorrectionLevel,X.M),n=J.from(i.version),o=nt.from(i.maskPattern),i.toSJISFunc&&Q.setToSJISFunction(i.toSJISFunc)),we(e,n,r,o)};var It={},ct={};(function(t){function e(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let r=i.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+i);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const n=parseInt(r.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const n=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:o,scale:o?4:a,margin:n,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,n){return n.width&&n.width>=r+n.margin*2?n.width/(r+n.margin*2):n.scale},t.getImageWidth=function(r,n){const o=t.getScale(r,n);return Math.floor((r+n.margin*2)*o)},t.qrToImageData=function(r,n,o){const a=n.modules.size,u=n.modules.data,c=t.getScale(a,o),g=Math.floor((a+o.margin*2)*c),m=o.margin*c,E=[o.color.light,o.color.dark];for(let B=0;B<g;B++)for(let h=0;h<g;h++){let b=(B*g+h)*4,A=o.color.light;if(B>=m&&h>=m&&B<g-m&&h<g-m){const S=Math.floor((B-m)/c),s=Math.floor((h-m)/c);A=E[u[S*a+s]?1:0]}r[b++]=A.r,r[b++]=A.g,r[b++]=A.b,r[b]=A.a}}})(ct);(function(t){const e=ct;function i(n,o,a){n.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=a,o.width=a,o.style.height=a+"px",o.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,a,u){let c=u,g=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(g=r()),c=e.getOptions(c);const m=e.getImageWidth(o.modules.size,c),E=g.getContext("2d"),B=E.createImageData(m,m);return e.qrToImageData(B.data,o,c),i(E,g,m),E.putImageData(B,0,0),g},t.renderToDataURL=function(o,a,u){let c=u;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const g=t.render(o,a,c),m=c.type||"image/png",E=c.rendererOpts||{};return g.toDataURL(m,E.quality)}})(It);var Tt={};const ye=ct;function dt(t,e){const i=t.a/255,r=e+'="'+t.hex+'"';return i<1?r+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':r}function tt(t,e,i){let r=t+e;return typeof i<"u"&&(r+=" "+i),r}function Ee(t,e,i){let r="",n=0,o=!1,a=0;for(let u=0;u<t.length;u++){const c=Math.floor(u%e),g=Math.floor(u/e);!c&&!o&&(o=!0),t[u]?(a++,u>0&&c>0&&t[u-1]||(r+=o?tt("M",c+i,.5+g+i):tt("m",n,0),n=0,o=!1),c+1<e&&t[u+1]||(r+=tt("h",a),a=0)):n++}return r}Tt.render=function(e,i,r){const n=ye.getOptions(i),o=e.modules.size,a=e.modules.data,u=o+n.margin*2,c=n.color.light.a?"<path "+dt(n.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",g="<path "+dt(n.color.dark,"stroke")+' d="'+Ee(a,o,n.margin)+'"/>',m='viewBox="0 0 '+u+" "+u+'"',B='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+m+' shape-rendering="crispEdges">'+c+g+`</svg>
`;return typeof r=="function"&&r(null,B),B};const Ce=Dt,ot=gt,Mt=It,Be=Tt;function ut(t,e,i,r,n){const o=[].slice.call(arguments,1),a=o.length,u=typeof o[a-1]=="function";if(!u&&!Ce())throw new Error("Callback required as last argument");if(u){if(a<2)throw new Error("Too few arguments provided");a===2?(n=i,i=e,e=r=void 0):a===3&&(e.getContext&&typeof n>"u"?(n=r,r=void 0):(n=r,r=i,i=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(i=e,e=r=void 0):a===2&&!e.getContext&&(r=i,i=e,e=void 0),new Promise(function(c,g){try{const m=ot.create(i,r);c(t(m,e,r))}catch(m){g(m)}})}try{const c=ot.create(i,r);n(null,t(c,e,r))}catch(c){n(c)}}Y.create=ot.create;Y.toCanvas=ut.bind(null,Mt.render);Y.toDataURL=ut.bind(null,Mt.renderToDataURL);Y.toString=ut.bind(null,function(t,e,i){return Be.render(t,i)});function be(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var pe=Ae;function Ae(t,e,i){var r=i&&i.stringify||be,n=1;if(typeof t=="object"&&t!==null){var o=e.length+n;if(o===1)return t;var a=new Array(o);a[0]=r(t);for(var u=1;u<o;u++)a[u]=r(e[u]);return a.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var g="",m=1-n,E=-1,B=t&&t.length||0,h=0;h<B;){if(t.charCodeAt(h)===37&&h+1<B){switch(E=E>-1?E:0,t.charCodeAt(h+1)){case 100:case 102:if(m>=c||e[m]==null)break;E<h&&(g+=t.slice(E,h)),g+=Number(e[m]),E=h+2,h++;break;case 105:if(m>=c||e[m]==null)break;E<h&&(g+=t.slice(E,h)),g+=Math.floor(Number(e[m])),E=h+2,h++;break;case 79:case 111:case 106:if(m>=c||e[m]===void 0)break;E<h&&(g+=t.slice(E,h));var b=typeof e[m];if(b==="string"){g+="'"+e[m]+"'",E=h+2,h++;break}if(b==="function"){g+=e[m].name||"<anonymous>",E=h+2,h++;break}g+=r(e[m]),E=h+2,h++;break;case 115:if(m>=c)break;E<h&&(g+=t.slice(E,h)),g+=String(e[m]),E=h+2,h++;break;case 37:E<h&&(g+=t.slice(E,h)),g+="%",E=h+2,h++,m--;break}++m}++h}return E===-1?t:(E<B&&(g+=t.slice(E)),g)}var Ne={};(function(t){const e=Pt,i=Lt,r=pt,n=Ft,o=s=>s==null;function a(s){switch(s.arrayFormat){case"index":return f=>(d,l)=>{const w=d.length;return l===void 0||s.skipNull&&l===null||s.skipEmptyString&&l===""?d:l===null?[...d,[g(f,s),"[",w,"]"].join("")]:[...d,[g(f,s),"[",g(w,s),"]=",g(l,s)].join("")]};case"bracket":return f=>(d,l)=>l===void 0||s.skipNull&&l===null||s.skipEmptyString&&l===""?d:l===null?[...d,[g(f,s),"[]"].join("")]:[...d,[g(f,s),"[]=",g(l,s)].join("")];case"comma":case"separator":return f=>(d,l)=>l==null||l.length===0?d:d.length===0?[[g(f,s),"=",g(l,s)].join("")]:[[d,g(l,s)].join(s.arrayFormatSeparator)];default:return f=>(d,l)=>l===void 0||s.skipNull&&l===null||s.skipEmptyString&&l===""?d:l===null?[...d,g(f,s)]:[...d,[g(f,s),"=",g(l,s)].join("")]}}function u(s){let f;switch(s.arrayFormat){case"index":return(d,l,w)=>{if(f=/\[(\d*)\]$/.exec(d),d=d.replace(/\[\d*\]$/,""),!f){w[d]=l;return}w[d]===void 0&&(w[d]={}),w[d][f[1]]=l};case"bracket":return(d,l,w)=>{if(f=/(\[\])$/.exec(d),d=d.replace(/\[\]$/,""),!f){w[d]=l;return}if(w[d]===void 0){w[d]=[l];return}w[d]=[].concat(w[d],l)};case"comma":case"separator":return(d,l,w)=>{const C=typeof l=="string"&&l.includes(s.arrayFormatSeparator),y=typeof l=="string"&&!C&&m(l,s).includes(s.arrayFormatSeparator);l=y?m(l,s):l;const N=C||y?l.split(s.arrayFormatSeparator).map(T=>m(T,s)):l===null?l:m(l,s);w[d]=N};default:return(d,l,w)=>{if(w[d]===void 0){w[d]=l;return}w[d]=[].concat(w[d],l)}}}function c(s){if(typeof s!="string"||s.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function g(s,f){return f.encode?f.strict?e(s):encodeURIComponent(s):s}function m(s,f){return f.decode?i(s):s}function E(s){return Array.isArray(s)?s.sort():typeof s=="object"?E(Object.keys(s)).sort((f,d)=>Number(f)-Number(d)).map(f=>s[f]):s}function B(s){const f=s.indexOf("#");return f!==-1&&(s=s.slice(0,f)),s}function h(s){let f="";const d=s.indexOf("#");return d!==-1&&(f=s.slice(d)),f}function b(s){s=B(s);const f=s.indexOf("?");return f===-1?"":s.slice(f+1)}function A(s,f){return f.parseNumbers&&!Number.isNaN(Number(s))&&typeof s=="string"&&s.trim()!==""?s=Number(s):f.parseBooleans&&s!==null&&(s.toLowerCase()==="true"||s.toLowerCase()==="false")&&(s=s.toLowerCase()==="true"),s}function S(s,f){f=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},f),c(f.arrayFormatSeparator);const d=u(f),l=Object.create(null);if(typeof s!="string"||(s=s.trim().replace(/^[?#&]/,""),!s))return l;for(const w of s.split("&")){if(w==="")continue;let[C,y]=r(f.decode?w.replace(/\+/g," "):w,"=");y=y===void 0?null:["comma","separator"].includes(f.arrayFormat)?y:m(y,f),d(m(C,f),y,l)}for(const w of Object.keys(l)){const C=l[w];if(typeof C=="object"&&C!==null)for(const y of Object.keys(C))C[y]=A(C[y],f);else l[w]=A(C,f)}return f.sort===!1?l:(f.sort===!0?Object.keys(l).sort():Object.keys(l).sort(f.sort)).reduce((w,C)=>{const y=l[C];return y&&typeof y=="object"&&!Array.isArray(y)?w[C]=E(y):w[C]=y,w},Object.create(null))}t.extract=b,t.parse=S,t.stringify=(s,f)=>{if(!s)return"";f=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},f),c(f.arrayFormatSeparator);const d=y=>f.skipNull&&o(s[y])||f.skipEmptyString&&s[y]==="",l=a(f),w={};for(const y of Object.keys(s))d(y)||(w[y]=s[y]);const C=Object.keys(w);return f.sort!==!1&&C.sort(f.sort),C.map(y=>{const N=s[y];return N===void 0?"":N===null?g(y,f):Array.isArray(N)?N.reduce(l(y),[]).join("&"):g(y,f)+"="+g(N,f)}).filter(y=>y.length>0).join("&")},t.parseUrl=(s,f)=>{f=Object.assign({decode:!0},f);const[d,l]=r(s,"#");return Object.assign({url:d.split("?")[0]||"",query:S(b(s),f)},f&&f.parseFragmentIdentifier&&l?{fragmentIdentifier:m(l,f)}:{})},t.stringifyUrl=(s,f)=>{f=Object.assign({encode:!0,strict:!0},f);const d=B(s.url).split("?")[0]||"",l=t.extract(s.url),w=t.parse(l,{sort:!1}),C=Object.assign(w,s.query);let y=t.stringify(C,f);y&&(y=`?${y}`);let N=h(s.url);return s.fragmentIdentifier&&(N=`#${g(s.fragmentIdentifier,f)}`),`${d}${y}${N}`},t.pick=(s,f,d)=>{d=Object.assign({parseFragmentIdentifier:!0},d);const{url:l,query:w,fragmentIdentifier:C}=t.parseUrl(s,d);return t.stringifyUrl({url:l,query:n(w,f),fragmentIdentifier:C},d)},t.exclude=(s,f,d)=>{const l=Array.isArray(f)?w=>!f.includes(w):(w,C)=>!f(w,C);return t.pick(s,l,d)}})(Ne);export{pe as a,Y as b,Ne as q};
